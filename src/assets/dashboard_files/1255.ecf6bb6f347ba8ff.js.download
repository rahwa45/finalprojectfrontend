"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1255],{98862:(e,a,d)=>{d.d(a,{GL:()=>g,Gk:()=>_,L1:()=>x,Xg:()=>Y,q4:()=>C});var r=d(94729),s=d(17144),n=d(68858),t=d(99230),o=d(54445),c=d(29966),l=d(20167),i=d(14719),h=d(61671),p=d(67208),m=d(33281),F=d(72642),T=d(46658),k=d(55378),I=d(12003),u=d(18021),j=d(28942),v=d(76833),S=d(76743),q=d(8135),E=d(34606);let f=o.Z.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),C=e=>{switch(e){case"development":return o.Z.matchX({HomepageHeader:(0,c.dY)(307171),SayThanksCardMobile:(0,c.dY)(237077),SayThanksCardTabletUp:(0,c.dY)(237076),TopicsInFeed:t.Uq({Phone:257457,[E._]:237186}),ExploreInFeed:t.Uq({Phone:257456,[E._]:247889}),SearchInFeed:t.Uq({Phone:257455,[E._]:241347})});case"production":return o.Z.matchX({HomepageHeader:(0,c.dY)(307172),SayThanksCardMobile:(0,c.dY)(219423),SayThanksCardTabletUp:(0,c.dY)(219424),TopicsInFeed:t.Uq({Phone:257453,[E._]:237209}),ExploreInFeed:t.Uq({Phone:257454,[E._]:247890}),SearchInFeed:t.Uq({Phone:257452,[E._]:241348})})}},b=({adEnv:e,adType:a,count:d,zoneId:r})=>({divName:f(a),zoneIds:l.of(r),count:d,networkId:(0,s.Pq)(e),siteId:(0,s.gE)(e),adTypes:l.of(5),properties:{}}),y=e=>j.D9(a=>(0,c.Fs)(k.of(n.Um),k.ap((0,c.Fs)(e,b,l.of,k.of)),k.ap((0,r.b)(a.shouldUseSecureCookies)),j.L9)),g=({adEnv:e,adType:a,count:d,zoneId:r})=>(0,c.Fs)(y({adEnv:e,adType:a,count:d,zoneId:r}),v.lr,v.bK(e=>v.QP(n.YK)(s.H6,{method:"POST",headers:{[T.U2]:F.cM.Json},body:n.n_.encode(e)})),S.KR,S.mr,S.Tj(e=>(0,c.Fs)(e.decisions,i.Jt(f(a)),h.qI(h.k$),h.Tj(l.Tj(e=>o.Ad.fromKevelAd({ad:l.v4(e.contents),decision:e})))))),U=e=>l.qI(a=>(0,c.Fs)(a,l.gR(e),p.YW({onTrue:()=>(0,c.Fs)(a,m.ku(a=>n.X6.equals(a,e))),onFalse:(0,c.dY)([])}))),Y=(e,a)=>(0,c.L3)(l.pb((0,c.L3)(e=>U(e.metadata.advertiserId)(a),l.YW({onEmpty:c.ue,onNonEmpty:(0,c.L3)(l.zN(a=>(0,c.Fs)(e,I.Dc(n.X6)(a))),p.AU)}))),h.VW(l.EI)),_=q.Tj(u.qI(e=>(0,c.Fs)(e.template,n.Bj.match({"in-feed":a=>u.zN(o.Ad.mkInFeedAd({...e,template:a})),[E._]:(0,c.dY)(u.dv)})))),A=n.Bj.matchX({"kitchen-sink":!0,[E._]:!1}),X=n.Bj.matchX({"in-feed":!0,[E._]:!1}),x=o.Z.matchX({SayThanksCardMobile:A,SayThanksCardTabletUp:A,TopicsInFeed:X,HomepageHeader:(0,c.dY)(!0),ExploreInFeed:X,SearchInFeed:X})},80228:(e,a,d)=>{d.d(a,{mc:()=>Z,$9:()=>w,no:()=>H});var r=d(50612),s=d(66475),n=d(92071),t=d(40109),o=d(54170),c=d(28875),l=d(42834),i=d(15109),h=d(68858),p=d(63252),m=d(42863);let F=(0,d(82263).Mz)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var T=d(99230),k=d(54445),I=d(55368),u=d(29966),j=d(20167),v=d(16278),S=d(33281),q=d(61671),E=d(27554),f=d(50347),C=d(58600),b=d(18021),y=d(66388),g=d(28942),U=d(76833),Y=d(8135),_=d(71550),A=d(2942),X=d(98862);let x=e=>{switch(e){case"development":return[[h.SS(2260292),h.SS(2260293)]];case"production":return[[h.SS(2262847),h.SS(1890533)]]}},L=f.z3(e=>["InvalidTemplatesError",{invalidAds:(0,u.Fs)(e,j.Tj(e=>({invalidTemplate:h.gY(e.template),flightId:e.metadata.flightId,creativeId:e.metadata.creativeId})))}]),H=({adType:e,count:a})=>{let d=(0,i.d)(F),r=(0,E.J)(e=>(0,u.Fs)(e,A.Tj(([e])=>e)),[d]),s=(0,p.r)(),n=(0,m.Y0)();return(0,E.J)(e=>{let d=(0,u.Fs)(e,A.Tj(e=>e[0]),A.F(k.Z.Eq.equals)),n=(0,u.Fs)(e,A.Tj(e=>e[1]),A.F(b.nZ(T.Eq).equals)),t=(0,u.Fs)(C.CO((0,u.Fs)(d,C.K_),n),C.Tj(([e,a])=>(0,X.q4)(s.adEnv)(e)(a)),A.F(b.nZ(_.Eq).equals));return(0,u.Fs)(C.CO((0,u.Fs)(d,C.K_),t),A.EY(r),A.Tj(([e,a])=>(0,u.Fs)(e,b.Tj(([e,d])=>v.L8(e,d,a)))),C.HZ(([e,d,r])=>(0,u.Fs)(A.v6(()=>(0,u.Fs)((0,X.GL)({adEnv:s.adEnv,adType:e,count:3*a,zoneId:d}),y.Bb(s))),A.Mi((0,u.L3)(Y.v6((0,u.dY)(g.IX),I.V0(U.aM),a=>(0,u.Fs)(a,b.qI((0,u.L3)(S.ku(a=>(0,u.Fs)(a.template,(0,X.L1)(e))),q.VW(j.EI),b.Tj(I.V0(L)))),b.ak(()=>g.IX))),I.Fe("KevelError"),I.eQ({directAdType:k.Z.Show.show(e)}),g.Gt(I.Sn),g.g7)),A.Tj(Y.Tj(b.qI((0,X.Xg)(r,x(s.adEnv))))))),A.Tj(b.ak(()=>Y.Vh)))},[e,n])},w=({adType:e,count:a,children:d})=>d((0,l.m)(H({adType:e,count:a}))),P=({metadata:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.j,{url:e.impressionUrl}),(0,u.Fs)(e.impressionTrackers,b.f3(j.Tj((e,a)=>(0,r.jsx)(t.j,{url:e},a))))]}),Z=({children:e,metadata:a,adType:d})=>{let t=(0,o.w)();return(0,c.J)(()=>{t(s.rc.mk.DirectAdImpression({metadata:a,adType:d}))}),(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(n.A,{children:(0,r.jsx)(P,{metadata:a})})]})}},35128:(e,a,d)=>{d.d(a,{X:()=>l});var r=d(50612),s=d(66475),n=d(74471),t=d(54170),o=d(88857),c=d(94344);let l=({metadata:e,adType:a,...d})=>{let l=(0,t.w)(),i=(0,c.useCallback)(()=>{l(s.rc.mk.Track(o.Jh.mk.DirectAdClick({metadata:e,adType:a})))},[e,a]);return(0,r.jsx)(n.p,{onClick:i,href:e.clickUrl,...d})}},42834:(e,a,d)=>{d.d(a,{m:()=>n});var r=d(64314),s=d(8135);let n=e=>(0,r.C)(e,s.Vh)},50851:(e,a,d)=>{d.d(a,{v:()=>l});var r=d(53926),s=d(66366),n=d(29966),t=d(55378),o=d(18021);let c=(0,n.Fs)(s.ue,t.g7,o.t2(e=>"force_direct_ads"in e)),l=()=>(0,r.cC)()&&c}}]);